--- libc-orig/linuxthreads/pt-machine.c	2002-08-26 18:39:45.000000000 -0400
+++ libc/linuxthreads/pt-machine.c	2003-12-08 21:24:59.000000000 -0500
@@ -19,7 +19,9 @@
 
 #define PT_EI
 
-extern long int testandset (int *spinlock);
+#include <pthread.h>
+
+extern long int testandset (__atomic_lock_t *spinlock);
 extern int __compare_and_swap (long int *p, long int oldval, long int newval);
 
 #include <pt-machine.h>
