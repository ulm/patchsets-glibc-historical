.TH PTHREAD_ONCE 3 LinuxThreads

.SH NAME
pthread_once \- once-only initialization

.SH SYNOPSIS
.B #include <pthread.h>

.BI "pthread_once_t " once_control " = PTHREAD_ONCE_INIT;"

.BI "int pthread_once(pthread_once_t *" once_control ", void (*" init_routine ") (void));"

.SH DESCRIPTION

The purpose of 
.B "pthread_once"
is to ensure that a piece of
initialization code is executed at most once. The 
.I "once_control"
argument points to a static or extern variable statically initialized
to 
.BR "PTHREAD_ONCE_INIT" .

The first time 
.B "pthread_once"
is called with a given 
.I "once_control"
argument, it calls 
.I "init_routine"
with no argument and changes the
value of the 
.I "once_control"
variable to record that initialization has
been performed. Subsequent calls to 
.B "pthread_once"
with the same
.B "once_control"
argument do nothing. 

.SH "RETURN VALUE"
.B "pthread_once"
always returns 0.

.SH ERRORS
None.

.SH AUTHOR
Xavier Leroy <Xavier.Leroy@inria.fr>

